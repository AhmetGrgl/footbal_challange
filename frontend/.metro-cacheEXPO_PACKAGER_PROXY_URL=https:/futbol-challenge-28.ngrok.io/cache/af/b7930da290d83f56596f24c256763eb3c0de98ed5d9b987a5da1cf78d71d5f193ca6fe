{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":46,"index":125}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":39,"index":165}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/SocketContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SocketProvider\", {\n    enumerable: true,\n    get: function () {\n      return SocketProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useSocket\", {\n    enumerable: true,\n    get: function () {\n      return useSocket;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _socketIoClient = require(_dependencyMap[2], \"socket.io-client\");\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const SocketContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const SocketProvider = ({\n    children\n  }) => {\n    _s();\n    const [socket, setSocket] = (0, _react.useState)(null);\n    const [connected, setConnected] = (0, _react.useState)(false);\n    const [matchFound, setMatchFound] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      // Socket is optional for now (bot mode doesn't need it)\n      const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n      try {\n        const socketInstance = (0, _socketIoClient.io)(BACKEND_URL, {\n          transports: ['websocket', 'polling'],\n          reconnection: true,\n          reconnectionAttempts: 3\n        });\n        socketInstance.on('connect', () => {\n          console.log('Socket connected');\n          setConnected(true);\n        });\n        socketInstance.on('disconnect', () => {\n          console.log('Socket disconnected');\n          setConnected(false);\n        });\n        socketInstance.on('match_found', data => {\n          console.log('Match found:', data);\n          setMatchFound(data);\n        });\n        socketInstance.on('searching', data => {\n          console.log('Searching, position:', data.position);\n        });\n        setSocket(socketInstance);\n        return () => {\n          socketInstance.disconnect();\n        };\n      } catch (error) {\n        console.log('Socket connection failed, bot mode only');\n      }\n    }, []);\n    const joinMatchmaking = gameMode => {\n      if (socket) {\n        socket.emit('join_matchmaking', {\n          game_mode: gameMode,\n          user_id: 'guest_' + Date.now()\n        });\n      }\n    };\n    const leaveMatchmaking = gameMode => {\n      if (socket) {\n        socket.emit('leave_matchmaking', {\n          game_mode: gameMode\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(SocketContext.Provider, {\n      value: {\n        socket,\n        connected,\n        joinMatchmaking,\n        leaveMatchmaking,\n        matchFound\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this);\n  };\n  _s(SocketProvider, \"R47sPg0EqpfUYisxfED7OiVcuKA=\");\n  _c = SocketProvider;\n  const useSocket = () => {\n    _s2();\n    const context = (0, _react.useContext)(SocketContext);\n    if (!context) {\n      throw new Error('useSocket must be used within SocketProvider');\n    }\n    return context;\n  };\n  _s2(useSocket, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"SocketProvider\");\n});","lineCount":116,"map":[[15,2,15,0,"Object"],[15,8,15,0],[15,9,15,0,"defineProperty"],[15,23,15,0],[15,24,15,0,"exports"],[15,31,15,0],[16,4,15,0,"enumerable"],[16,14,15,0],[17,4,15,0,"get"],[17,7,15,0],[17,18,15,0,"get"],[17,19,15,0],[18,6,15,0],[18,13,15,0,"SocketProvider"],[18,27,15,0],[19,4,15,0],[20,2,15,0],[21,2,79,0,"Object"],[21,8,79,0],[21,9,79,0,"defineProperty"],[21,23,79,0],[21,24,79,0,"exports"],[21,31,79,0],[22,4,79,0,"enumerable"],[22,14,79,0],[23,4,79,0,"get"],[23,7,79,0],[23,18,79,0,"get"],[23,19,79,0],[24,6,79,0],[24,13,79,0,"useSocket"],[24,22,79,0],[25,4,79,0],[26,2,79,0],[27,2,85,2],[27,6,85,2,"_expoVirtualEnv"],[27,21,85,2],[27,24,85,2,"require"],[27,31,85,2],[27,32,85,2,"_dependencyMap"],[27,46,85,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_socketIoClient"],[29,21,2,0],[29,24,2,0,"require"],[29,31,2,0],[29,32,2,0,"_dependencyMap"],[29,46,2,0],[30,2,3,0],[30,6,3,0,"_expoConstants"],[30,20,3,0],[30,23,3,0,"require"],[30,30,3,0],[30,31,3,0,"_dependencyMap"],[30,45,3,0],[31,2,3,0],[31,6,3,0,"Constants"],[31,15,3,0],[31,18,3,0,"_interopDefault"],[31,33,3,0],[31,34,3,0,"_expoConstants"],[31,48,3,0],[32,2,3,39],[32,6,3,39,"_reactJsxDevRuntime"],[32,25,3,39],[32,28,3,39,"require"],[32,35,3,39],[32,36,3,39,"_dependencyMap"],[32,50,3,39],[33,2,13,0],[33,8,13,6,"SocketContext"],[33,21,13,19],[33,37,13,22],[33,41,13,22,"createContext"],[33,47,13,35],[33,48,13,35,"createContext"],[33,61,13,35],[33,63,13,67,"undefined"],[33,72,13,76],[33,73,13,77],[34,2,15,7],[34,8,15,13,"SocketProvider"],[34,22,15,68],[34,25,15,71,"SocketProvider"],[34,26,15,72],[35,4,15,74,"children"],[36,2,15,83],[36,3,15,84],[36,8,15,89],[37,4,15,89,"_s"],[37,6,15,89],[38,4,16,2],[38,10,16,8],[38,11,16,9,"socket"],[38,17,16,15],[38,19,16,17,"setSocket"],[38,28,16,26],[38,29,16,27],[38,32,16,30],[38,36,16,30,"useState"],[38,42,16,38],[38,43,16,38,"useState"],[38,51,16,38],[38,53,16,54],[38,57,16,58],[38,58,16,59],[39,4,17,2],[39,10,17,8],[39,11,17,9,"connected"],[39,20,17,18],[39,22,17,20,"setConnected"],[39,34,17,32],[39,35,17,33],[39,38,17,36],[39,42,17,36,"useState"],[39,48,17,44],[39,49,17,44,"useState"],[39,57,17,44],[39,59,17,45],[39,64,17,50],[39,65,17,51],[40,4,18,2],[40,10,18,8],[40,11,18,9,"matchFound"],[40,21,18,19],[40,23,18,21,"setMatchFound"],[40,36,18,34],[40,37,18,35],[40,40,18,38],[40,44,18,38,"useState"],[40,50,18,46],[40,51,18,46,"useState"],[40,59,18,46],[40,61,18,93],[40,65,18,97],[40,66,18,98],[41,4,20,2],[41,8,20,2,"useEffect"],[41,14,20,11],[41,15,20,11,"useEffect"],[41,24,20,11],[41,26,20,12],[41,32,20,18],[42,6,21,4],[43,6,22,4],[43,12,22,10,"BACKEND_URL"],[43,23,22,21],[43,26,22,24,"Constants"],[43,35,22,33],[43,36,22,33,"default"],[43,43,22,33],[43,44,22,34,"expoConfig"],[43,54,22,44],[43,56,22,46,"extra"],[43,61,22,51],[43,63,22,53,"EXPO_PUBLIC_BACKEND_URL"],[43,86,22,76],[43,90,22,76,"_expoVirtualEnv"],[43,105,22,76],[43,106,22,76,"env"],[43,109,22,76],[43,110,22,76,"EXPO_PUBLIC_BACKEND_URL"],[43,133,22,115],[43,137,22,119],[43,160,22,142],[44,6,24,4],[44,10,24,8],[45,8,25,6],[45,14,25,12,"socketInstance"],[45,28,25,26],[45,31,25,29],[45,35,25,29,"io"],[45,50,25,31],[45,51,25,31,"io"],[45,53,25,31],[45,55,25,32,"BACKEND_URL"],[45,66,25,43],[45,68,25,45],[46,10,26,8,"transports"],[46,20,26,18],[46,22,26,20],[46,23,26,21],[46,34,26,32],[46,36,26,34],[46,45,26,43],[46,46,26,44],[47,10,27,8,"reconnection"],[47,22,27,20],[47,24,27,22],[47,28,27,26],[48,10,28,8,"reconnectionAttempts"],[48,30,28,28],[48,32,28,30],[49,8,29,6],[49,9,29,7],[49,10,29,8],[50,8,31,6,"socketInstance"],[50,22,31,20],[50,23,31,21,"on"],[50,25,31,23],[50,26,31,24],[50,35,31,33],[50,37,31,35],[50,43,31,41],[51,10,32,8,"console"],[51,17,32,15],[51,18,32,16,"log"],[51,21,32,19],[51,22,32,20],[51,40,32,38],[51,41,32,39],[52,10,33,8,"setConnected"],[52,22,33,20],[52,23,33,21],[52,27,33,25],[52,28,33,26],[53,8,34,6],[53,9,34,7],[53,10,34,8],[54,8,36,6,"socketInstance"],[54,22,36,20],[54,23,36,21,"on"],[54,25,36,23],[54,26,36,24],[54,38,36,36],[54,40,36,38],[54,46,36,44],[55,10,37,8,"console"],[55,17,37,15],[55,18,37,16,"log"],[55,21,37,19],[55,22,37,20],[55,43,37,41],[55,44,37,42],[56,10,38,8,"setConnected"],[56,22,38,20],[56,23,38,21],[56,28,38,26],[56,29,38,27],[57,8,39,6],[57,9,39,7],[57,10,39,8],[58,8,41,6,"socketInstance"],[58,22,41,20],[58,23,41,21,"on"],[58,25,41,23],[58,26,41,24],[58,39,41,37],[58,41,41,40,"data"],[58,45,41,44],[58,49,41,49],[59,10,42,8,"console"],[59,17,42,15],[59,18,42,16,"log"],[59,21,42,19],[59,22,42,20],[59,36,42,34],[59,38,42,36,"data"],[59,42,42,40],[59,43,42,41],[60,10,43,8,"setMatchFound"],[60,23,43,21],[60,24,43,22,"data"],[60,28,43,26],[60,29,43,27],[61,8,44,6],[61,9,44,7],[61,10,44,8],[62,8,46,6,"socketInstance"],[62,22,46,20],[62,23,46,21,"on"],[62,25,46,23],[62,26,46,24],[62,37,46,35],[62,39,46,38,"data"],[62,43,46,42],[62,47,46,47],[63,10,47,8,"console"],[63,17,47,15],[63,18,47,16,"log"],[63,21,47,19],[63,22,47,20],[63,44,47,42],[63,46,47,44,"data"],[63,50,47,48],[63,51,47,49,"position"],[63,59,47,57],[63,60,47,58],[64,8,48,6],[64,9,48,7],[64,10,48,8],[65,8,50,6,"setSocket"],[65,17,50,15],[65,18,50,16,"socketInstance"],[65,32,50,30],[65,33,50,31],[66,8,52,6],[66,15,52,13],[66,21,52,19],[67,10,53,8,"socketInstance"],[67,24,53,22],[67,25,53,23,"disconnect"],[67,35,53,33],[67,36,53,34],[67,37,53,35],[68,8,54,6],[68,9,54,7],[69,6,55,4],[69,7,55,5],[69,8,55,6],[69,15,55,13,"error"],[69,20,55,18],[69,22,55,20],[70,8,56,6,"console"],[70,15,56,13],[70,16,56,14,"log"],[70,19,56,17],[70,20,56,18],[70,61,56,59],[70,62,56,60],[71,6,57,4],[72,4,58,2],[72,5,58,3],[72,7,58,5],[72,9,58,7],[72,10,58,8],[73,4,60,2],[73,10,60,8,"joinMatchmaking"],[73,25,60,23],[73,28,60,27,"gameMode"],[73,36,60,43],[73,40,60,48],[74,6,61,4],[74,10,61,8,"socket"],[74,16,61,14],[74,18,61,16],[75,8,62,6,"socket"],[75,14,62,12],[75,15,62,13,"emit"],[75,19,62,17],[75,20,62,18],[75,38,62,36],[75,40,62,38],[76,10,62,40,"game_mode"],[76,19,62,49],[76,21,62,51,"gameMode"],[76,29,62,59],[77,10,62,61,"user_id"],[77,17,62,68],[77,19,62,70],[77,27,62,78],[77,30,62,81,"Date"],[77,34,62,85],[77,35,62,86,"now"],[77,38,62,89],[77,39,62,90],[78,8,62,92],[78,9,62,93],[78,10,62,94],[79,6,63,4],[80,4,64,2],[80,5,64,3],[81,4,66,2],[81,10,66,8,"leaveMatchmaking"],[81,26,66,24],[81,29,66,28,"gameMode"],[81,37,66,44],[81,41,66,49],[82,6,67,4],[82,10,67,8,"socket"],[82,16,67,14],[82,18,67,16],[83,8,68,6,"socket"],[83,14,68,12],[83,15,68,13,"emit"],[83,19,68,17],[83,20,68,18],[83,39,68,37],[83,41,68,39],[84,10,68,41,"game_mode"],[84,19,68,50],[84,21,68,52,"gameMode"],[85,8,68,61],[85,9,68,62],[85,10,68,63],[86,6,69,4],[87,4,70,2],[87,5,70,3],[88,4,72,2],[88,24,73,4],[88,28,73,4,"_reactJsxDevRuntime"],[88,47,73,4],[88,48,73,4,"jsxDEV"],[88,54,73,4],[88,56,73,5,"SocketContext"],[88,69,73,18],[88,70,73,19,"Provider"],[88,78,73,27],[89,6,73,28,"value"],[89,11,73,33],[89,13,73,35],[90,8,73,37,"socket"],[90,14,73,43],[91,8,73,45,"connected"],[91,17,73,54],[92,8,73,56,"joinMatchmaking"],[92,23,73,71],[93,8,73,73,"leaveMatchmaking"],[93,24,73,89],[94,8,73,91,"matchFound"],[95,6,73,102],[95,7,73,104],[96,6,73,104,"children"],[96,14,73,104],[96,16,74,7,"children"],[97,4,74,15],[98,6,74,15,"fileName"],[98,14,74,15],[98,16,74,15,"_jsxFileName"],[98,28,74,15],[99,6,74,15,"lineNumber"],[99,16,74,15],[100,6,74,15,"columnNumber"],[100,18,74,15],[101,4,74,15],[101,11,75,28],[101,12,75,29],[102,2,77,0],[102,3,77,1],[103,2,77,2,"_s"],[103,4,77,2],[103,5,15,13,"SocketProvider"],[103,19,15,68],[104,2,15,68,"_c"],[104,4,15,68],[104,7,15,13,"SocketProvider"],[104,21,15,68],[105,2,79,7],[105,8,79,13,"useSocket"],[105,17,79,22],[105,20,79,25,"useSocket"],[105,21,79,25],[105,26,79,31],[106,4,79,31,"_s2"],[106,7,79,31],[107,4,80,2],[107,10,80,8,"context"],[107,17,80,15],[107,20,80,18],[107,24,80,18,"useContext"],[107,30,80,28],[107,31,80,28,"useContext"],[107,41,80,28],[107,43,80,29,"SocketContext"],[107,56,80,42],[107,57,80,43],[108,4,81,2],[108,8,81,6],[108,9,81,7,"context"],[108,16,81,14],[108,18,81,16],[109,6,82,4],[109,12,82,10],[109,16,82,14,"Error"],[109,21,82,19],[109,22,82,20],[109,68,82,66],[109,69,82,67],[110,4,83,2],[111,4,84,2],[111,11,84,9,"context"],[111,18,84,16],[112,2,85,0],[112,3,85,1],[113,2,85,2,"_s2"],[113,5,85,2],[113,6,79,13,"useSocket"],[113,15,79,22],[114,2,79,22],[114,6,79,22,"_c"],[114,8,79,22],[115,2,79,22,"$RefreshReg$"],[115,14,79,22],[115,15,79,22,"_c"],[115,17,79,22],[116,0,79,22],[116,3]],"functionMap":{"names":["<global>","SocketProvider","useEffect$argument_0","socketInstance.on$argument_1","<anonymous>","joinMatchmaking","leaveMatchmaking","useSocket"],"mappings":"AAA;uECc;YCK;mCCW;ODG;sCCE;ODG;uCCE;ODG;qCCE;ODE;aEI;OFE;GDI;0BIE;GJI;2BKE;GLI;CDO;yBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}